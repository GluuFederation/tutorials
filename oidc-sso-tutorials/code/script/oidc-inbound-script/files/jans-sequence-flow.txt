title Inbount Identity Flow

fontawesome f268 "++**User's Browser**++" as browser #blue
fontawesome5solid f2d0 "++**RP**++" as rp #purple
fontawesome5solid f233 "++**Jans Authz Server**++" as jans #green
fontawesome5solid f5fd "++**External Provider**++" as eidp #orange

browser->rp: request page
rp->browser: redirect
browser->jans: process authorization request
jans->browser: provide button "Login with OAuth2"
browser->eidp: redirect
eidp->browser: show login page
browser->eidp: present login credentials
eidp->eidp: Authenticate user
eidp->jans: redirect to callback url with success response
jans->jans: validate code, id_token
jans->jans: add user in ldap
jans->jans: Authenticate user
jans->browser: redirect
browser->rp: final redirect
rp->browser: application is accessed